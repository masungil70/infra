## 테라폼 모듈(Module) 활용 

이 프로젝트는 `proxmox_vm`이라는 재사용 가능한 모듈을 이용해 Proxmox 환경에 가상머신(VM)들을 배포하고 관리하는 Terraform 코드입니다. 최상위 폴더의 .tfvars 파일들을 통해 어떤 VM을 어떤 사양으로 만들지 정의하고, terraform apply 명령을 실행하면 정의된 내용에 따라 Proxmox에 VM이 자동으로 생성되는 구조입니다.

전체 폴더 구조
```
step17
├── modules
│   └── proxmox_vm
│       ├── main.tf
│       ├── outputs.tf
│       └── variables.tf
├── main.tf
├── outputs.tf
├── provider.tf
├── terraform.tfvars
├── variables.tf
└── vms.auto.tfvars
```


최상위 폴더

* `provider.tf`: Terraform이 어떤 클라우드 또는 인프라 제공자(Provider)와 통신할지 설정하는 파일입니다. 이 프로젝트에서는 Proxmox 제공자를 사용하도록 설정되어 있을 것입니다.
* `main.tf`: 이 Terraform 프로젝트의 핵심 로직이 담긴 파일입니다. 어떤 인프라 자원(여기서는 Proxmox VM)을 생성하고 어떻게 구성할지에 대한 내용이 정의되어 있습니다. 아마 proxmox_vm 모듈을 호출하여 VM 생성을 요청하는 코드가 있을 것입니다.
* `variables.tf`: main.tf에서 사용할 변수들을 정의하는 파일입니다. 예를 들어, VM의 이름, CPU 코어 수, 메모리 크기 등을 변수로 선언하여 유연하게 설정할 수 있도록 합니다.
* `outputs.tf`: Terraform 실행 후 출력할 값들을 정의하는 파일입니다. 예를 들어, 생성된 VM의 IP 주소나 ID 등을 실행 결과로 보여줄 수 있습니다.
* `terraform.tfvars`: variables.tf에 정의된 변수들에 실제 값을 할당하는 파일입니다. 이 파일을 통해 Proxmox 접속 정보(URL, API 토큰)나 VM의 세부 사양을 설정합니다.
* `vms.auto.tfvars`: 파일 이름에 .auto.가 포함되어 있어 Terraform이 실행될 때 자동으로 로드되는 변수 파일입니다. 아마도 여러 VM의 공통적인 또는 개별적인 설정을 이 파일에 정의해두었을 것입니다. (.tfvars 파일보다 나중에 읽혀 이 파일의 설정이 우선 적용될 수 있습니다.)


모듈 폴더 (modules/proxmox_vm)

* `proxmox_vm/`: Proxmox VM 생성을 위한 재사용 가능한 코드 묶음(모듈)입니다. 이렇게 모듈로 만들면 여러 VM을 생성하거나 다른 프로젝트에서 VM을 생성할 때 코드를 중복해서 작성할 필요 없이 이 모듈을 가져다 쓸 수 있습니다.
* `main.tf`: 모듈의 핵심 로직 파일로, proxmox_vm_qemu와 같은 리소스를 사용하여 실제 VM을 생성하는 코드가 들어있습니다.
* `variables.tf`: 이 모듈에서 사용할 변수들을 정의합니다. (예: vm_name, cpu_cores, memory 등)
* `outputs.tf`: 모듈 실행 후 반환할 값(예: 생성된 VM의 IP)을 정의합니다.

